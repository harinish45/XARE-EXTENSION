@tailwind base;
@tailwind components;
@tailwind utilities;

/* ==========================================
   XARE Design System - Premium Dark Mode
   ========================================== */

@layer base {
    :root {
        /* Graphite Black Theme - Backgrounds */
        --background: 0 0% 4%;
        /* #0A0A0A - Primary background */
        --foreground: 0 0% 100%;
        /* #FFFFFF - Primary text */

        --card: 0 0% 10%;
        /* #1A1A1A - Card background */
        --card-foreground: 0 0% 98%;
        /* #FAFAFA - Card text */

        --popover: 0 0% 8%;
        /* #141414 - Popover background */
        --popover-foreground: 0 0% 98%;
        /* #FAFAFA - Popover text */

        /* Keep accent colors vibrant */
        --primary: 217 91% 60%;
        /* #3B82F6 - Blue (keep colorful) */
        --primary-foreground: 0 0% 100%;
        /* #FFFFFF */

        --secondary: 0 0% 12%;
        /* #1E1E1E - Secondary background */
        --secondary-foreground: 0 0% 90%;
        /* #E5E5E5 */

        --muted: 0 0% 16%;
        /* #292929 - Muted background */
        --muted-foreground: 0 0% 63%;
        /* #A0A0A0 - Muted text */

        --accent: 271 81% 66%;
        /* #A855F7 - Purple (keep colorful) */
        --accent-foreground: 0 0% 100%;
        /* #FFFFFF */

        --success: 152 76% 46%;
        /* #10B981 - Green (keep colorful) */
        --destructive: 0 84% 60%;
        /* #EF4444 - Red (keep colorful) */
        --destructive-foreground: 0 0% 100%;
        /* #FFFFFF */

        /* Subtle borders for graphite theme */
        --border: 0 0% 15%;
        /* rgba(255,255,255,0.08) equivalent */
        --input: 0 0% 15%;
        /* Same as border */
        --ring: 217 91% 60%;
        /* Blue focus ring */

        --radius: 0.75rem;

        /* Gradient colors (keep vibrant) */
        --gradient-start: 250 100% 65%;
        /* Purple */
        --gradient-mid: 220 100% 60%;
        /* Blue */
        --gradient-end: 180 100% 50%;
        /* Cyan */
    }

    * {
        border-color: hsl(var(--border));
    }

    body {
        background-color: hsl(var(--background));
        color: hsl(var(--foreground));
    }
}

/* Scrollbar */
::-webkit-scrollbar {
    width: 5px;
    height: 5px;
}

::-webkit-scrollbar-track {
    background: transparent;
}

::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 9999px;
}

::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.2);
}

/* ==========================================
   Component Layer
   ========================================== */

@layer components {

    /* Glass Effects */
    .glass {
        background: rgba(255, 255, 255, 0.04);
        backdrop-filter: blur(24px);
        border: 1px solid rgba(255, 255, 255, 0.08);
        box-shadow:
            inset 0 1px 0 0 rgba(255, 255, 255, 0.06),
            0 8px 32px -8px rgba(0, 0, 0, 0.5);
    }

    .glass:hover {
        background: rgba(255, 255, 255, 0.06);
        border-color: rgba(255, 255, 255, 0.12);
    }

    .glass-subtle {
        background: rgba(255, 255, 255, 0.025);
        backdrop-filter: blur(16px);
        border: 1px solid rgba(255, 255, 255, 0.05);
    }

    .glass-subtle:hover {
        background: rgba(255, 255, 255, 0.045);
        border-color: rgba(255, 255, 255, 0.08);
    }

    .glass-card {
        @apply glass rounded-2xl;
    }

    .glass-elevated {
        @apply glass;
        box-shadow:
            inset 0 1px 0 0 rgba(255, 255, 255, 0.08),
            0 16px 48px -12px rgba(0, 0, 0, 0.6);
    }

    /* Gradients */
    .gradient-primary {
        background: linear-gradient(135deg, hsl(250 100% 65%) 0%, hsl(220 100% 60%) 100%);
    }

    .gradient-accent {
        background: linear-gradient(135deg, hsl(220 100% 60%) 0%, hsl(180 100% 50%) 100%);
    }

    .gradient-full {
        background: linear-gradient(135deg, hsl(250 100% 65%) 0%, hsl(220 100% 60%) 50%, hsl(180 100% 50%) 100%);
    }

    .gradient-text {
        background: linear-gradient(135deg, hsl(250 100% 65%) 0%, hsl(220 100% 60%) 50%, hsl(180 100% 50%) 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }

    /* Orb */
    .orb {
        position: relative;
        border-radius: 9999px;
        background: linear-gradient(135deg, hsl(250 100% 65%), hsl(220 100% 60%), hsl(180 100% 50%));
    }

    .orb::before {
        content: '';
        position: absolute;
        inset: -8px;
        border-radius: 9999px;
        background: inherit;
        filter: blur(24px);
        opacity: 0.6;
        animation: pulse-glow 2.5s ease-in-out infinite;
    }

    /* Message Bubbles */
    .bubble-user {
        @apply gradient-primary rounded-2xl px-4 py-3;
        border-bottom-right-radius: 0.375rem;
        box-shadow: 0 4px 16px -4px rgba(102, 51, 255, 0.5);
    }

    .bubble-ai {
        @apply glass-card rounded-2xl px-4 py-3;
        border-bottom-left-radius: 0.375rem;
    }

    /* Badges */
    .badge {
        display: inline-flex;
        align-items: center;
        gap: 0.25rem;
        padding: 0.125rem 0.5rem;
        border-radius: 9999px;
        font-size: 0.625rem;
        font-weight: 500;
    }

    .badge-success {
        background: rgba(34, 197, 94, 0.15);
        color: rgb(74, 222, 128);
        border: 1px solid rgba(34, 197, 94, 0.2);
    }

    .badge-error {
        background: rgba(239, 68, 68, 0.15);
        color: rgb(248, 113, 113);
        border: 1px solid rgba(239, 68, 68, 0.2);
    }

    /* Code Block */
    .code-block {
        border-radius: 0.75rem;
        overflow: hidden;
        border: 1px solid rgba(255, 255, 255, 0.06);
        background: rgba(0, 0, 0, 0.4);
    }

    .code-block-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 0.5rem 1rem;
        background: rgba(255, 255, 255, 0.03);
        border-bottom: 1px solid rgba(255, 255, 255, 0.06);
    }

    .code-block-content {
        padding: 1rem;
        overflow-x: auto;
        font-size: 0.875rem;
    }
}

/* ==========================================
   Utilities
   ========================================== */

@layer utilities {
    .bg-mesh {
        background-image:
            radial-gradient(at 40% 20%, rgba(102, 51, 255, 0.12) 0px, transparent 50%),
            radial-gradient(at 80% 0%, rgba(51, 102, 255, 0.08) 0px, transparent 50%),
            radial-gradient(at 0% 50%, rgba(0, 255, 200, 0.06) 0px, transparent 50%);
    }

    .no-scrollbar {
        -ms-overflow-style: none;
        scrollbar-width: none;
    }

    .no-scrollbar::-webkit-scrollbar {
        display: none;
    }
}

/* ==========================================
   Animations
   ========================================== */

@keyframes pulse-glow {

    0%,
    100% {
        opacity: 0.4;
        transform: scale(1);
    }

    50% {
        opacity: 0.7;
        transform: scale(1.1);
    }
}

@keyframes float {

    0%,
    100% {
        transform: translateY(0);
    }

    50% {
        transform: translateY(-8px);
    }
}

@keyframes fade-in {
    from {
        opacity: 0;
    }

    to {
        opacity: 1;
    }
}

@keyframes slide-up {
    from {
        opacity: 0;
        transform: translateY(10px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.animate-float {
    animation: float 3s ease-in-out infinite;
}

.animate-fade-in {
    animation: fade-in 0.3s ease-out;
}

.animate-slide-up {
    animation: slide-up 0.3s ease-out;
}

.stagger-children>*:nth-child(1) {
    animation-delay: 0ms;
}

.stagger-children>*:nth-child(2) {
    animation-delay: 75ms;
}

.stagger-children>*:nth-child(3) {
    animation-delay: 150ms;
}

.stagger-children>*:nth-child(4) {
    animation-delay: 225ms;
}

.stagger-children>*:nth-child(5) {
    animation-delay: 300ms;
}